pipeline {
  agent none
   stages {
     stage ('build') {
      agent { label 'master' }
       steps {
        sh '''
         echo "this runs on master node"
         sleep 20
         pwd
        '''
}
}
    stage ('test') {
    agent { label 'slave1' }
      steps {
       sh '''
        echo "this runs on slave1"
        sleep 20
        pwd
       '''
}
}
     stage ('deploy') {
     agent { label 'slave2' }
      steps {
       sh '''
        echo "this runs on slave2"
        sleep 20
        pwd
       '''
}
}
}
}
 

